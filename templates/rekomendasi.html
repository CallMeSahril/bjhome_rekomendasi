{% extends 'base.html' %}
{% block title %}Rekomendasi Produk{% endblock %}
{% block content %}
<div class="max-w-2xl mx-auto">
  <h2 class="text-2xl font-bold mb-4"><i class="fas fa-lightbulb mr-2"></i>Rekomendasi Produk</h2>
  <form method="POST" class="mb-6">
    <label class="block text-gray-700 mb-2">Pilih Produk:</label>
    <select name="produk" class="w-full border rounded px-3 py-2">
      {% for p in produk_list %}
        <option value="{{ p }}" {% if p == selected %}selected{% endif %}>{{ p }}</option>
      {% endfor %}
    </select>
    <button type="submit" class="mt-4 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded">
      <i class="fas fa-search mr-2"></i>Cek Rekomendasi
    </button>
  </form>

  {% if selected %}
    <h3 class="text-xl font-semibold mt-6">Produk: {{ selected }}</h3>

    <h4 class="mt-4 text-lg font-medium text-blue-600">ðŸ”µ Cross-Selling</h4>
    <ul class="list-disc list-inside">
      {% for item in cross %}
        <li>{{ item.nama_produk }} <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-sm ml-2">skor: {{ item.skor }}</span></li>
      {% endfor %}
      {% if cross|length == 0 %}<li><em>Tidak ada rekomendasi cross-selling.</em></li>{% endif %}
    </ul>

    <h4 class="mt-4 text-lg font-medium text-red-600">ðŸ”´ Up-Selling</h4>
    <ul class="list-disc list-inside">
      {% for item in up %}
        <li>{{ item.nama_produk }} <span class="bg-red-100 text-red-700 px-2 py-1 rounded text-sm ml-2">skor: {{ item.skor }}</span></li>
      {% endfor %}
      {% if up|length == 0 %}<li><em>Tidak ada rekomendasi up-selling.</em></li>{% endif %}
    </ul>
  {% endif %}
</div>
{% endblock %}